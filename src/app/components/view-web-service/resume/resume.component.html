<app-header></app-header>

<div class="resume-container">
  <h1 class="main-title">Scapartois Smile Reception</h1>

  <div class="resume-content">
    <div class="card-wrapper" *ngIf="accountData">
      <div class="resume-card user-info">
        <h2>Informations Utilisateur</h2>
        <p><strong>Nom:</strong> {{ accountData.name }}</p>
        <p><strong>Prénom:</strong> {{ accountData.firstName }}</p>
        <p><strong>Service:</strong> {{ accountServiceData?.name }}</p>
      </div>
    </div>

    <div class="card-wrapper" *ngIf="taurusData && taurusUsageData">
      <div class="resume-card taurus-info">
        <h2>Informations du Taurus</h2>
        <p><strong>Numéro de Taurus:</strong> {{ taurusData.taurusNumber }}</p>
        <p *ngIf="taurusUsageData.usageDate"><strong>Date d'utilisation:</strong> {{ taurusUsageData.usageDate }}</p>
      </div>
    </div>

    <div class="card-wrapper" *ngIf="pickupData">
      <div class="resume-card cart-info">
        <h2>Informations du Chariot</h2>
        <p><strong>Numéro du Chariot:</strong> {{ cartNumber }}</p>
        <p><strong>État du châssis / carter:</strong> {{ pickupData.conditionChassis }}</p>
        <p><strong>Roues non déchirées et absence de plat:</strong> {{ pickupData.wheelsTornPlat }}</p>
        <p><strong>Câbles et prises batterie:</strong> {{ pickupData.batteryCablesSockets }}</p>
        <p><strong>État des fourches:</strong> {{ pickupData.conditionForks }}</p>
        <p><strong>Plateforme propre et anti-dérapante:</strong> {{ pickupData.cleanNonSlipPlatform }}</p>
        <p><strong>Pare-brise:</strong> {{ pickupData.windshield }}</p>
        <p><strong>Bloc gaz + sangle:</strong> {{ pickupData.gasBlockStrap }}</p>
        <p><strong>Commandes de marche avant/arrière:</strong> {{ pickupData.forwardReverseControl }}</p>
        <p><strong>Klaxon:</strong> {{ pickupData.honk }}</p>
        <p><strong>Système d'élévation fonctionnel:</strong> {{ pickupData.functionalElevationSystem }}</p>
        <p><strong>Arrêt d'urgence:</strong> {{ pickupData.emergencyStop }}</p>
        <p><strong>Absence de fuite:</strong> {{ pickupData.noLeak }}</p>
        <p><strong>Bouton anti écrasement:</strong> {{ pickupData.antiCrushButton }}</p>
        <p><strong>Date et heure de prise en charge:</strong> {{ pickupData.pickupDateTime }} </p>
        <p><strong>Date et heure de retour:</strong> {{ pickupData.returnDateTime }} </p>
      </div>
    </div>

    <div class="card-wrapper" *ngIf="batteryUsageData.length > 0">
      <div class="resume-card battery-info">
        <h2>Informations de la Batterie</h2>
        <div *ngFor="let batteryUsage of batteryUsageData">
          <p><strong>Numéro de batterie:</strong> {{ batteryNumber.get(batteryUsage.batteryId) }}</p>
          <p><strong>Niveau de charge:</strong> {{ batteryUsage.chargeLevel }}</p>
          <p><strong>État de la batterie:</strong> {{ batteryUsage.state }}</p>
          <p><strong>Date de changement:</strong> {{ batteryUsage.changeTime }}</p>
        </div>
      </div>
    </div>

    <div class="card-wrapper issue-wrapper" *ngIf="issueData.length > 0">
      <div class="resume-card issue-container">
        <h2>Problèmes Signalés</h2>
        <div *ngFor="let issue of issueData">
          <p><strong>Description:</strong> {{ issue.description }}</p>
          <p><strong>Date de Création:</strong> {{ issue.createdAt | date:'short' }}</p>
        </div>
      </div>
    </div>
    <div class="card-wrapper" *ngIf="teamName || shiftName">
      <div class="resume-card team-shift-info">
        <h2>Info sur l'Équipe</h2>
        <p *ngIf="teamName"><strong>L'équipe de :</strong> {{ teamName }}</p>
        <p *ngIf="shiftName"><strong>Horaire du :</strong> {{ shiftName }}</p>
      </div>
    </div>    
  </div>
</div>

<app-footer class="footer"></app-footer>
